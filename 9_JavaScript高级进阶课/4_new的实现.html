<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

//    function Parent(name,age){
//        var that = {};
//        that.name = name;
//        that.age = age;
//        that.__proto__ = Parent.prototype;
//        return that;
////
////        this.name = name;
////        this.age = age;
//    }
//
//    Parent.prototype.eat = function(){
//        console.log("eating");
//    }
//
//
//    var p = new Parent("zs",12);
//    console.log(p.name);
//    p.eat();


//    js中new一个对象的过程？
//    1.创建一个空对象obj
//    2.设置新对象obj的__proto__ 指向构造函数的prototype。
//    3.调用构造函数，把构造函数中的this指向新对象实例
//    4.返回新对象(判断构造函数的返回结果是什么类型，
//                  如果是对象，则返回对象，否则返回新对象obj)
    function _new(){
        var obj = {};
        var con = [].shift.call(arguments);
        obj.__proto__ = con.prototype;
        var result = con.apply(obj,arguments);
        return typeof result === "object"?result:obj;
    }
    function Dog(name){
        this.name = name;
        return {xx:11}
    }
    Dog.prototype.say = function(){
        console.log(this.name);
    }

//    var d = new Dog("wangcai");
    var d = _new(Dog,"wangcai");
    d.say();


//    function fn(name,xx){
//        console.log(this);//window
//        console.log(name);//window
//        console.log(xx);//window
//    }
//
//    fn.apply({xx:11},["zs",12]);





</script>
</body>
</html>